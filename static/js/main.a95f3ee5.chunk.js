(this["webpackJsonprestaurant-search"]=this["webpackJsonprestaurant-search"]||[]).push([[0],{19:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(1),s=r(0),c=r.n(s),i=r(6),o=r.n(i),u=(r(19),r(3)),d=r(5),l=r.n(d),p=r(12),b=r(4),j=Object(u.b)((function(e){return{refInput:e.refInput,cityInput:e.cityInput,restaurants:e.restaurants,refDisplay:e.refDisplay}}))((function(e){var t,r,a,s,c,i;function o(e){return u.apply(this,arguments)}function u(){return(u=Object(p.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://developers.zomato.com/api/v2.1/cities?q="+e.cityInput,{headers:{"user-key":"4f42c5284bfce5f27f00f8bebf22082d"}});case 3:return c=t.sent,t.next=6,c.json();case 6:(r=t.sent).location_suggestions!==[]&&(e.dispatch({type:"CHANGE_NO_ERROR",cityRes:a}),s=r.location_suggestions[0].id,console.log(s),d(),e.dispatch({type:"CHANGE_HIDDEN",display:"visibile"})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error"),e.dispatch({type:"CHANGE_ERROR",msg:"No City Matches",error:""});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function d(){return j.apply(this,arguments)}function j(){return(j=Object(p.a)(l.a.mark((function r(){var n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://developers.zomato.com/api/v2.1/search?entity_id="+s+"&entity_type=city&q="+e.refInput+"&sort=rating&order=desc",{headers:{"user-key":"4f42c5284bfce5f27f00f8bebf22082d"}});case 3:return n=r.sent,r.next=6,n.json();case 6:(t=r.sent).restaurants!==[]&&(a=t.restaurants,e.dispatch({type:"CHANGE_RESTAURANTS",cityRes:a})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log("error");case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))).apply(this,arguments)}return Object(n.jsxs)(b.a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5},className:"searchBar px-1",children:[Object(n.jsxs)("div",{className:"input-group mb-3 ",children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"City"})}),Object(n.jsx)("input",{"aria-label":"Enter a City Name",id:"cityInput",className:"form-control",type:"text",placeholder:"Enter a City Name","aria-describedby":"button-addon1",onChange:function(t){c=t.target.value,e.dispatch({type:"CHANGE_CITY_INPUT",citySearch:c})}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{"aria-label":"Click to search for restaurants in city",className:"btn btn-light text-dark btn-outline-secondary",onClick:function(){o()},type:"button",id:"button-addon1",children:"Search"})})]}),Object(n.jsxs)("div",{className:"input-group mb-3 "+e.refDisplay,children:[Object(n.jsx)("div",{className:"input-group-prepend",children:Object(n.jsx)("span",{className:"input-group-text",children:"Refine"})}),Object(n.jsx)("input",{"aria-label":"Enter Keyword to Refine Search",className:"form-control",type:"text",placeholder:"Enter Keyword to Refine Search","aria-describedby":"button-addon2",onChange:function(t){i=t.target.value,e.dispatch({type:"CHANGE_REF_INPUT",refSearch:i})}}),Object(n.jsx)("div",{className:"input-group-append",children:Object(n.jsx)("button",{"aria-label":"Click to refine restaurant search with keyword",className:"btn btn-light text-dark btn-outline-secondary",onClick:function(){o()},type:"button",id:"button-addon2",children:"Refine"})})]})]})})),h=function(e){return Object(n.jsxs)("li",{className:"border rounded resCard m-2 p-2 d-flex flex-column ",children:[Object(n.jsx)("img",{className:"cardImg border rounded w-100  mt-1",src:e.resImg,alt:e.resName}),Object(n.jsxs)("span",{className:"d-flex py-2 border-bottom",children:[Object(n.jsx)("div",{className:"subhead name fw-bold",children:"Restaurant: "}),Object(n.jsx)("div",{className:"",children:e.resName})]}),Object(n.jsxs)("span",{className:"d-flex py-2 border-bottom",children:[Object(n.jsx)("div",{className:"subhead fw-bold",children:"Address: "}),Object(n.jsx)("div",{className:"",children:e.resAddr})]}),Object(n.jsxs)("span",{className:"d-flex py-2 mb-2 border-bottom",children:[Object(n.jsx)("div",{className:"subhead fw-bold",children:"Cuisine: "}),Object(n.jsx)("div",{className:"",children:e.resCuis})]}),Object(n.jsxs)("span",{className:"d-flex py-2 mb-2",children:[Object(n.jsx)("div",{className:"subhead fw-bold",children:"Rating: "}),Object(n.jsxs)("div",{className:"",children:[e.resRating,"\u2605"]})]})]})},f=Object(u.b)((function(e){return{city:e.city,restaurants:e.restaurants}}))((function(e){return Object(n.jsx)(b.a.ul,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},className:"list-unstyled d-flex p-0 flex-wrap justify-content-center display",children:e.restaurants.map((function(e,t){return Object(n.jsx)(h,{resImg:e.restaurant.featured_image,resName:e.restaurant.name,resAddr:e.restaurant.location.address,resCuis:e.restaurant.cuisines,resRating:e.restaurant.user_rating.aggregate_rating},t)}))})})),m=(r(27),Object(u.b)((function(e){return{city:e.city,restaurants:e.restaurants,errorMsg:e.errorMsg}}))((function(e){return Object(n.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(n.jsx)(b.a.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5},className:"my-2",id:"title",children:"Restaurant Search"}),Object(n.jsx)(j,{}),Object(n.jsx)("p",{children:e.errorMsg}),Object(n.jsx)(f,{})]})}))),y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,30)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))},x=r(7),O={refInput:"",cityInput:"",restaurants:[],refDisplay:"hidden",errorMsg:"",error:"hidden"};var N=Object(x.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CITY_INPUT":return Object(a.a)(Object(a.a)({},e),{},{cityInput:t.citySearch});case"CHANGE_RESTAURANTS":return Object(a.a)(Object(a.a)({},e),{},{restaurants:t.cityRes});case"CHANGE_REF_INPUT":return Object(a.a)(Object(a.a)({},e),{},{refInput:t.refSearch});case"CHANGE_HIDDEN":return Object(a.a)(Object(a.a)({},e),{},{refDisplay:t.display});case"CHANGE_ERROR":return Object(a.a)(Object(a.a)({},e),{},{error:"",errorMsg:t.msg});case"CHANGE_NO_ERROR":return Object(a.a)(Object(a.a)({},e),{},{error:"hidden",errorMsg:""});default:return e}})),g=function(){return Object(n.jsx)(u.a,{store:N,children:Object(n.jsx)(m,{})})};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(g,{})}),document.getElementById("root")),y()}},[[28,1,2]]]);
//# sourceMappingURL=main.a95f3ee5.chunk.js.map