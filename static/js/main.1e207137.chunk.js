(this["webpackJsonprestaurant-search"]=this["webpackJsonprestaurant-search"]||[]).push([[0],{19:function(e,t,r){},27:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),s=r.n(n),c=r(6),i=r.n(c),l=(r(19),r(3)),o=r(5),u=r.n(o),d=r(12),p=r(4),b=Object(l.b)((function(e){return{refInput:e.refInput,cityInput:e.cityInput,restaurants:e.restaurants,refDisplay:e.refDisplay}}))((function(e){var t,r,n,s,c,i;function l(e){return o.apply(this,arguments)}function o(){return(o=Object(d.a)(u.a.mark((function t(a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://developers.zomato.com/api/v2.1/cities?q="+e.cityInput,{headers:{"user-key":"4f42c5284bfce5f27f00f8bebf22082d"}});case 3:return c=t.sent,t.next=6,c.json();case 6:(r=t.sent).location_suggestions!==[]&&(e.dispatch({type:"CHANGE_NO_ERROR",cityRes:n}),s=r.location_suggestions[0].id,b(),e.dispatch({type:"CHANGE_HIDDEN",display:"visibile"})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error"),e.dispatch({type:"CHANGE_ERROR",msg:"No City Matches",error:""});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function b(){return j.apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function r(){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch("https://developers.zomato.com/api/v2.1/search?entity_id="+s+"&entity_type=city&q="+e.refInput+"&sort=rating&order=desc",{headers:{"user-key":"4f42c5284bfce5f27f00f8bebf22082d"}});case 3:return a=r.sent,r.next=6,a.json();case 6:(t=r.sent).restaurants!==[]&&(n=t.restaurants,e.dispatch({type:"CHANGE_RESTAURANTS",cityRes:n})),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log("error");case 13:case"end":return r.stop()}}),r,null,[[0,10]])})))).apply(this,arguments)}var h=function(e){e.preventDefault(),l()},f=function(e){e.preventDefault(),l()};return Object(a.jsxs)(p.a.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5},className:"searchBar px-2 pt-2",children:[Object(a.jsxs)("form",{onSubmit:h,children:[Object(a.jsx)("div",{className:"sr-only",children:"Updating input and clicking search will change results"}),Object(a.jsxs)("div",{className:"input-group mb-3 ",children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{id:"cityspan",className:"input-group-text",children:"City"})}),Object(a.jsx)("input",{"aria-label":"Enter a City Name",id:"cityInput",className:"form-control",type:"text",placeholder:"Enter a City Name","aria-describedby":"cityspan",onChange:function(t){c=t.target.value,e.dispatch({type:"CHANGE_CITY_INPUT",citySearch:c})}}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{"aria-label":"Click to search for restaurants in city",className:"btn btn-light text-dark btn-outline-secondary",onClick:h,type:"button",id:"btn1",children:"Search"})})]})]}),Object(a.jsxs)("form",{onSubmit:f,children:[Object(a.jsx)("div",{className:"sr-only",children:"Updating input and clicking search will change results"}),Object(a.jsxs)("div",{className:"input-group mb-3 "+e.refDisplay,children:[Object(a.jsx)("div",{className:"input-group-prepend",children:Object(a.jsx)("span",{id:"refinespan",className:"input-group-text",children:"Refine"})}),Object(a.jsx)("input",{"aria-label":"Enter Keyword to Refine Search",className:"form-control",type:"text",placeholder:"Enter Keyword to Refine Search","aria-describedby":"refinespan",onChange:function(t){i=t.target.value,e.dispatch({type:"CHANGE_REF_INPUT",refSearch:i})}}),Object(a.jsx)("div",{className:"input-group-append",children:Object(a.jsx)("button",{"aria-label":"Click to refine restaurant search with keyword",className:"btn btn-light text-dark btn-outline-secondary",onClick:f,type:"button",id:"btn2",children:"Refine"})})]})]})]})})),j=function(e){return Object(a.jsxs)("li",{className:"border rounded resCard m-2 p-2 d-flex flex-column ",children:[Object(a.jsx)("img",{className:"cardImg border rounded w-100  mt-1",src:e.resImg,alt:e.resName}),Object(a.jsxs)("span",{className:"d-flex py-2 border-bottom",children:[Object(a.jsx)("div",{className:"subhead name fw-bold",children:"Restaurant: "}),Object(a.jsx)("div",{className:"",children:e.resName})]}),Object(a.jsxs)("span",{className:"d-flex py-2 border-bottom",children:[Object(a.jsx)("div",{className:"subhead fw-bold",children:"Address: "}),Object(a.jsx)("div",{className:"",children:e.resAddr})]}),Object(a.jsxs)("span",{className:"d-flex py-2 mb-2 border-bottom",children:[Object(a.jsx)("div",{className:"subhead fw-bold",children:"Cuisine: "}),Object(a.jsx)("div",{className:"",children:e.resCuis})]}),Object(a.jsxs)("span",{className:"d-flex py-2 mb-2",children:[Object(a.jsx)("div",{className:"subhead fw-bold",children:"Rating: "}),Object(a.jsxs)("div",{className:"",children:[e.resRating,"\u2605"]})]})]})},h=Object(l.b)((function(e){return{city:e.city,restaurants:e.restaurants}}))((function(e){return Object(a.jsx)(p.a.ul,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},className:"list-unstyled d-flex p-0 flex-wrap justify-content-center display px-2",children:e.restaurants.map((function(e,t){return Object(a.jsx)(j,{resImg:e.restaurant.featured_image,resName:e.restaurant.name,resAddr:e.restaurant.location.address,resCuis:e.restaurant.cuisines,resRating:e.restaurant.user_rating.aggregate_rating},t)}))})})),f=(r(27),Object(l.b)((function(e){return{city:e.city,restaurants:e.restaurants,errorMsg:e.errorMsg,error:e.error}}))((function(e){return Object(a.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(a.jsx)(p.a.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.5},className:"my-3",id:"title",children:"Restaurant Search"}),Object(a.jsx)(b,{}),Object(a.jsx)("p",{className:e.error,children:e.errorMsg}),Object(a.jsx)(h,{})]})}))),m=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,30)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))},y=r(7),x=r(2),O={refInput:"",cityInput:"",restaurants:[],refDisplay:"hidden",errorMsg:"",error:"hidden"};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CITY_INPUT":return Object(x.a)(Object(x.a)({},e),{},{cityInput:t.citySearch});case"CHANGE_RESTAURANTS":return Object(x.a)(Object(x.a)({},e),{},{restaurants:t.cityRes});case"CHANGE_REF_INPUT":return Object(x.a)(Object(x.a)({},e),{},{refInput:t.refSearch});case"CHANGE_HIDDEN":return Object(x.a)(Object(x.a)({},e),{},{refDisplay:t.display});case"CHANGE_ERROR":return Object(x.a)(Object(x.a)({},e),{},{error:"",errorMsg:t.msg});case"CHANGE_NO_ERROR":return Object(x.a)(Object(x.a)({},e),{},{error:"hidden",errorMsg:""});default:return e}},g=Object(y.b)(N),v=function(){return Object(a.jsx)(l.a,{store:g,children:Object(a.jsx)(f,{})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),m()}},[[28,1,2]]]);
//# sourceMappingURL=main.1e207137.chunk.js.map